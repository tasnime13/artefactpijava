<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Statistiques Livraisons</title>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Segoe UI", sans-serif;
            background: #FAF7F2;
        }

        .admin-container {
            display: flex;
            min-height: 100vh;
        }

        /* ================= SIDEBAR ================= */
        .sidebar {
            width: 260px;
            background: linear-gradient(180deg, #6b4f5d, #7b5668);
            color: #fff;
            padding: 25px 20px;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 30px;
        }

        .logo-icon {
            width: 42px;
            height: 42px;
            background: #d8b07a;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .logo-text {
            font-size: 22px;
            font-weight: bold;
        }

        .logo-text span {
            color: #f2c58d;
        }

        .nav-section {
            margin-bottom: 28px;
        }

        .nav-label {
            font-size: 11px;
            letter-spacing: 1px;
            opacity: 0.6;
            margin-bottom: 10px;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            margin-bottom: 6px;
        }

        .nav-item a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 14px;
            border-radius: 12px;
            color: #fff;
            text-decoration: none;
            transition: 0.3s;
        }

        .nav-item a:hover {
            background: rgba(255,255,255,0.12);
        }

        .nav-item.active a {
            background: rgba(255,255,255,0.18);
            position: relative;
        }

        .nav-item.active a::before {
            content: "";
            position: absolute;
            left: 0;
            top: 10%;
            width: 4px;
            height: 80%;
            background: #e3b07a;
            border-radius: 4px;
        }

        .icon {
            width: 22px;
            text-align: center;
            opacity: 0.9;
        }

        .badge {
            margin-left: auto;
            background: rgba(255,255,255,0.25);
            padding: 2px 8px;
            font-size: 12px;
            border-radius: 999px;
        }

        /* ================= CONTENT ================= */
        .stats-container {
            flex: 1;
            padding: 40px;
        }

        .stats-title {
            font-size: 26px;
            color: #6B4F5D;
            margin-bottom: 30px;
        }

        .card {
            background: #fff;
            padding: 25px;
            border-radius: 14px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            max-width: 800px;
        }

        .card h3 {
            margin-bottom: 20px;
            color: #6B4F5D;
        }
    </style>
</head>

<body>

<div class="admin-container">

    <!-- ================= SIDEBAR ================= -->
    <aside class="sidebar">
        <div class="logo">
            <div class="logo-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                </svg>
            </div>
            <div class="logo-text">afk<span>'</span>art</div>
        </div>

        <nav class="nav-section">
            <p class="nav-label">MENU PRINCIPAL</p>
            <ul class="nav-menu">

                <li class="nav-item">
                    <a href="{{ path('back') }}">
                        <span class="icon">â–¦</span>
                        Dashboard
                    </a>
                </li>

                <li class="nav-item">
                    <a href="#">
                        
                        Utilisateurs
                        <span class="badge">875</span>
                    </a>
                </li>

                <li class="nav-item ">
                    <a href="{{ path('back_livraison_index') }}">
                       
                        livraisons
                         <span class="badge-count">875</span>
                    </a>
                </li>
                <li class="nav-item ">
                    <a href="{{ path('back_suivi_livraison_new') }}">
                       
                        Suivi Livraisons
                         <span class="badge-count"/span>
                    </a>
                </li>
                

                <li class="nav-item">
                    <a href="#">
                        Artisans
                        <span class="badge">153</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="#">
                        Oeuvres
                        <span class="badge">214</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="#">
                        
                        Categories
                    </a>
                </li>

                <li class="nav-item">
                    <a href="#">
                       
                        Evenements
                    </a>
                </li>

            </ul>
        </nav>

        <nav class="nav-section">
            <p class="nav-label">ANALYSES</p>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="{{ path('back_livraison_stats') }}">
                        
                        Statistiques Livraisons
                    </a>
                </li>
                 <li class="nav-item">
                    <a href="{{ path('back_suivi_livraison_stats') }}">
                        
                        Statistiques Suivi Livraisons
                    </a>
                </li>
                 
                 
                <li class="nav-item">
                    <a href="#">
                        
                        Rapports
                    </a>
                </li>
            </ul>
        </nav>

        <nav class="nav-section">
            <p class="nav-label">SYSTEME</p>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#">
                        <span class="icon">âš™</span>
                        Parametres
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#">
                        <span class="icon">â†©</span>
                        Deconnexion
                    </a>
                </li>
            </ul>
        </nav>

    </aside>

    <!-- ================= CONTENT ================= -->
    <main class="stats-container">
        <h2 class="stats-title">ðŸ“¦ Statistiques des livraisons par adresse</h2>

        <div class="card">
            <h3>Graphique des livraisons</h3>
            <canvas id="livraisonChart"></canvas>
        </div>
    </main>

</div>

<script>
    new Chart(document.getElementById('livraisonChart'), {
        type: 'bar',
        data: {
            labels: {{ stats|map(s => s.adresse)|json_encode|raw }},
            datasets: [{
                data: {{ stats|map(s => s.total)|json_encode|raw }},
                backgroundColor: '#C4704B',
                borderRadius: 8
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: { display: false }
            }
        }
    });
</script>

</body>
</html>
